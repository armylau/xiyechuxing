<!-- pages/attraction-detail/attraction-detail.wxml - æ™¯ç‚¹è¯¦æƒ…é¡µ -->
<view class="page" wx:if="{{attraction}}">
  <!-- é¡¶éƒ¨å¤§å›¾ -->
  <view class="hero-section">
    <image 
      class="hero-image" 
      src="{{attraction.image}}" 
      mode="aspectFill"
    />
    <view class="hero-overlay"></view>
    <view class="hero-content">
      <text class="hero-title">{{attraction.name}}</text>
      <view class="hero-meta">
        <text class="hero-rating">â­ {{attraction.rating}}</text>
        <text class="hero-city">ğŸ“ {{city}}</text>
      </view>
    </view>
  </view>

  <!-- é—¨ç¥¨ä»·æ ¼æ  -->
  <view class="price-bar">
    <view class="price-info">
      <text class="price-label">é—¨ç¥¨ä»·æ ¼</text>
      <block wx:if="{{attraction.ticket_price === '0'}}">
        <text class="price-value free">å…è´¹å¼€æ”¾</text>
      </block>
      <block wx:else>
        <text class="price-value">
          <text class="price-num">Â¥{{attraction.ticket_price}}</text>
          <text class="price-unit">/äºº</text>
        </text>
      </block>
    </view>
  </view>

  <!-- å›¾é›† -->
  <view class="section-card" wx:if="{{attraction.gallery && attraction.gallery.length}}">
    <view class="section-title">ğŸ“· å®æ™¯å›¾é›†</view>
    <scroll-view class="gallery" scroll-x>
      <image 
        wx:for="{{attraction.gallery}}"
        wx:key="*this"
        class="gallery-image"
        src="{{item}}"
        mode="aspectFill"
        bindtap="previewImage"
        data-url="{{item}}"
      />
    </scroll-view>
  </view>

  <!-- æ™¯ç‚¹ä»‹ç» -->
  <view class="section-card">
    <view class="section-title">ğŸ“– æ™¯ç‚¹ä»‹ç»</view>
    <text class="section-content">{{attraction.detail || attraction.desc}}</text>
  </view>

  <!-- åŸºæœ¬ä¿¡æ¯ -->
  <view class="section-card">
    <view class="section-title">â„¹ï¸ åŸºæœ¬ä¿¡æ¯</view>
    <view class="info-list">
      <view class="info-item">
        <text class="info-label">ğŸ• æ—¶é—´</text>
        <text class="info-value">{{attraction.open_time || 'æš‚æ— '}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">ğŸ“ åœ°å€</text>
        <text class="info-value">{{attraction.address || 'æš‚æ— '}}</text>
      </view>
      <view class="info-item" wx:if="{{attraction.amap_url}}">
        <text class="info-label">ğŸ—ºï¸ å¯¼èˆª</text>
        <text class="info-value link" bindtap="openMap">{{attraction.address}} <text class="amap-badge">ğŸ“ åœ°å›¾</text></text>
      </view>
      <view class="info-item">
        <text class="info-label">ğŸ« é—¨ç¥¨</text>
        <text class="info-value">{{attraction.ticket_price === '0' ? 'å…è´¹' : 'Â¥' + attraction.ticket_price + '/äºº'}}</text>
      </view>
    </view>
  </view>

  <!-- æ¸¸è§ˆè´´å£« -->
  <view class="section-card" wx:if="{{attraction.tips && attraction.tips.length}}">
    <view class="section-title">ğŸ’¡ æ¸¸è§ˆè´´å£«</view>
    <view class="tips-list">
      <view class="tip-item" wx:for="{{attraction.tips}}" wx:key="*this">
        <text class="tip-icon">ğŸ’¡</text>
        <text class="tip-text">{{item}}</text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨å®‰å…¨è·ç¦» -->
  <view class="safe-bottom" style="height: 40rpx;"></view>
</view>
